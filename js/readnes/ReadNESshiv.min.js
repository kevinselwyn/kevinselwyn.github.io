/*! ReadNES.js - v1.0 - 2013-10-29
* http://kevinselwyn.com/
* Copyright (c) 2013 Kevin Selwyn; Licensed GPLv3 */
(function(e,t,n){"use strict";var r={init:function(){ReadNES.vars.shiv="../shiv/ReadNESshiv.php",ReadNES.extend({events:function(){var e=this.el.input;return e.onchange=this.iframe,this},iframe:function(){var t=ReadNES,n=t.el.drag,r={};return n.action=t.vars.shiv,n.target="iframe",r=e.createElement("iframe"),r.name="iframe",r.id="iframe",r.width=0,r.height=0,r.frameborder=0,n.appendChild(r),n.submit(),t.el.iframe=r,r.addEventListener?r.addEventListener("load",t.read,!1):r.attachEvent("onload",t.read),this},read:function(){var e=ReadNES,t=e.el.iframe,n={},r=t.contentDocument||t.contentWindow.document;n=e.util.json(r.getElementsByTagName("body")[0].innerHTML),e.rom.data.main=e.util.base64_decode(n.main),e.rom.data.name=n.name,e.loaded()}})}};typeof module=="object"&&module&&typeof module.exports=="object"?module.exports=r:(t.ReadNESshiv=r,typeof define=="function"&&define.amd&&define("ReadNESshiv",[],function(){return r}))})(document,window);